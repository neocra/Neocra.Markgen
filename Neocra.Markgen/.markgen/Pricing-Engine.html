<!DOCTYPE html>

<html lang="en">
<head>
    <title></title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.0.0/github-markdown.min.css" integrity="sha512-nxv6uny69e6SeGW/aOEW0iC2+ruQMKvFDbjav6sVu1dr89ioo5wBm3F0IbBGsNyAt6nuBR/x2HUSx0a7wLEegA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <script type="module" src="https://unpkg.com/rapidoc/dist/rapidoc-min.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>
</head>
<body>
<div>
    <menu>
        

<ul>
    
        <li>
            
                <a href="/Neocra.Markgen/Neocra.Markgen/hello-wiki/Overall-Architecture.html">
                    Overall Architecture
                </a>
            
            
            

        </li>
    
        <li>
            
                <a href="/Neocra.Markgen/Neocra.Markgen/hello-wiki/Getting-started.html">
                    Getting started
                </a>
            
            
            

        </li>
    
        <li>
            
                <a href="/Neocra.Markgen/Neocra.Markgen/hello-wiki/Users.html">
                    Users
                </a>
            
            
            

        </li>
    
        <li>
            
                <a href="/Neocra.Markgen/Neocra.Markgen/hello-wiki/RFID-Cards.html">
                    RFID Cards
                </a>
            
            
            

        </li>
    
        <li>
            
                <a href="/Neocra.Markgen/Neocra.Markgen/hello-wiki/Card-Pricing.html">
                    Card Pricing
                </a>
            
            
            

        </li>
    
        <li>
            
                <a href="/Neocra.Markgen/Neocra.Markgen/hello-wiki/References.html">
                    References
                </a>
            
            
            

        </li>
    
        <li>
            
                <a href="/Neocra.Markgen/Neocra.Markgen/hello-wiki/Vehicles.html">
                    Vehicles API
                </a>
            
            
            

        </li>
    
        <li>
            
                <a href="/Neocra.Markgen/Neocra.Markgen/hello-wiki/Services.html">
                    Services
                </a>
            
            
            

        </li>
    
        <li>
            
                <a href="/Neocra.Markgen/Neocra.Markgen/hello-wiki/Sessions.html">
                    Sessions
                </a>
            
            
            

        </li>
    
        <li>
            
                <a href="/Neocra.Markgen/Neocra.Markgen/hello-wiki/Mock-(charging-sessions).html">
                    Mock (charging sessions)
                </a>
            
            
            

        </li>
    
        <li>
            
                <a href="/Neocra.Markgen/Neocra.Markgen/hello-wiki/Pricing-Engine.html">
                    Pricing Engine
                </a>
            
            
            

        </li>
    
        <li>
            
                <a href="/Neocra.Markgen/Neocra.Markgen/hello-wiki/Vehicles.html">
                    Vehicles API
                </a>
            
            
            

        </li>
    
        <li>
            
                <a href="/Neocra.Markgen/Neocra.Markgen/hello-wiki/RFID-Cards.html">
                    RFID Cards
                </a>
            
            
            

        </li>
    
        <li>
            
                <a href="/Neocra.Markgen/Neocra.Markgen/hello-wiki/Pricing-Engine.html">
                    Pricing Engine
                </a>
            
            
            

        </li>
    
        <li>
            
                <a href="/Neocra.Markgen/Neocra.Markgen/hello-wiki/Overall-Architecture.html">
                    Overall Architecture
                </a>
            
            
            

<ul>
    
        <li>
            
                <a href="/Neocra.Markgen/Neocra.Markgen/hello-wiki/Overall-Architecture/Configuration-Conventions.html">
                    Configuration Conventions
                </a>
            
            
            

        </li>
    
</ul>

        </li>
    
        <li>
            
                <a href="/Neocra.Markgen/Neocra.Markgen/hello-wiki/Overall-Architecture.html">
                    Overall Architecture
                </a>
            
            
            

        </li>
    
        <li>
            
                <a href="/Neocra.Markgen/Neocra.Markgen/hello-wiki/Card-Pricing.html">
                    Card Pricing
                </a>
            
            
            

        </li>
    
        <li>
            
                <a href="/Neocra.Markgen/Neocra.Markgen/hello-wiki/Getting-started.html">
                    Getting started
                </a>
            
            
            

        </li>
    
        <li>
            
                <a href="/Neocra.Markgen/Neocra.Markgen/hello-wiki/Mock-(charging-sessions).html">
                    Mock (charging sessions)
                </a>
            
            
            

        </li>
    
        <li>
            
                <a href="/Neocra.Markgen/Neocra.Markgen/hello-wiki/Users.html">
                    Users
                </a>
            
            
            

        </li>
    
        <li>
            
                <a href="/Neocra.Markgen/Neocra.Markgen/hello-wiki/References.html">
                    References
                </a>
            
            
            

        </li>
    
        <li>
            
                <a href="/Neocra.Markgen/Neocra.Markgen/hello-wiki/Services.html">
                    Services
                </a>
            
            
            

        </li>
    
        <li>
            
                Retype
            
            
            

<ul>
    
        <li>
            
                References
            
            
            

        </li>
    
        <li>
            
                overall architecture
            
            
            

<ul>
    
        <li>
            
                configuration conventions
            
            
            

        </li>
    
</ul>

        </li>
    
        <li>
            
                Resources
            
            
            

<ul>
    
        <li>
            
                Css
            
            
            

        </li>
    
        <li>
            
                Js
            
            
            

        </li>
    
        <li>
            
                Fonts
            
            
            

        </li>
    
</ul>

        </li>
    
        <li>
            
                card pricing
            
            
            

        </li>
    
        <li>
            
                pricing engine
            
            
            

        </li>
    
        <li>
            
                Sessions
            
            
            

        </li>
    
        <li>
            
                getting started
            
            
            

        </li>
    
        <li>
            
                rfid cards
            
            
            

        </li>
    
        <li>
            
                Users
            
            
            

        </li>
    
        <li>
            
                Vehicles
            
            
            

        </li>
    
        <li>
            
                mock (charging sessions)
            
            
            

        </li>
    
        <li>
            
                Services
            
            
            

        </li>
    
</ul>

        </li>
    
        <li>
            
                <a href="/Neocra.Markgen/Neocra.Markgen/hello-wiki/Sessions.html">
                    Sessions
                </a>
            
            
            

        </li>
    
        <li>
            
                Attachments
            
            
            

        </li>
    
        <li>
            
                Idea
            
            
            

<ul>
    
        <li>
            
                Idea hello wiki dir
            
            
            

<ul>
    
        <li>
            
                Idea
            
            
            

        </li>
    
</ul>

        </li>
    
</ul>

        </li>
    
</ul>

    </menu>
    <article class="markdown-body">
        <h1 id="pricing-engine">Pricing Engine</h1>
<p>Be:Mo provides a <strong>Pricing Engine</strong> which enables to set up the price framework (or tariff grid) you want to apply to your end-users for each service type of Be:Mo's catalog*.
<em>It includes :</em></p>
<ul>
<li><em>RFID cards,</em></li>
<li><em>charging,</em></li>
<li><em>fueling,</em> <font color='red'> (coming soon) </font>_</li>
<li><em>parking <font color='red'> (coming soon) </font></em></li>
<li><em>car washing <font color='red'> (coming soon) </font></em></li>
</ul>
<p>The <strong>Pricing Engine</strong> rests on 2 pillars :</p>
<ul>
<li>the <strong>Pricing Model</strong> which supports the mathematical formula or algorithm that serves as the basis for the price to pay,</li>
<li>the <strong>Offer</strong> which lays down the condition of application (service type concerned, pricing model applicable, validity dates).</li>
</ul>
<p>The price framework of a service type is a combination of an offer associated to a valid pricing model.</p>
<p><font color='red'> <strong>/!\ Important :</strong> </font></p>
<ul>
<li><font color='red'> An <strong>offer</strong> can be associated with 1 <strong>pricing model</strong> only  </font></li>
<li><font color='red'> But a <strong>pricing model</strong> can be reused as the basis for the calculation of several <strong>offers</strong> </font>.</li>
<li><font color='red'> You <strong>MUST</strong> set up at least 1 offer (and therefore its related pricing model) for each service type you want to invoice to your end customers. </font></li>
</ul>
<h2 id="pricing-models">Pricing Models</h2>
<p>The <strong>Pricing Model domain</strong> handles the mathematical formula or algorithm that serves as the basis for the price to pay.</p>
<p>The Pricing Models domain supports all the endpoints needed to manage a pricing model lifecycle (Create, Read and Update)</p>
<p><font color='red'> Limitation : a pricing model cannot be deleted </font></p>
<table>
<thead>
<tr>
<th><strong>Operation</strong></th>
<th style="text-align: center;"><strong>HTTP Method</strong></th>
<th><strong>Endpoint name</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Create</td>
<td style="text-align: center;"><font color='green'><strong>POST</strong> </font></td>
<td>Create a PricingModel</td>
</tr>
<tr>
<td>Read</td>
<td style="text-align: center;"><font color='deepskyblue'><strong>GET</strong> </font></td>
<td>Get a PricingModel</td>
</tr>
<tr>
<td>Read</td>
<td style="text-align: center;"><font color='deepskyblue'><strong>GET</strong> </font></td>
<td>Get PricingModel given parameters</td>
</tr>
<tr>
<td>Update</td>
<td style="text-align: center;"><font color='orange'><strong>PATCH</strong> </font></td>
<td>Modify a PricingModel</td>
</tr>
</tbody>
</table>
<h3 id="create-a-pricingmodel">Create a PricingModel</h3>
<hr />
<p>This reference describes how to create a new pricing model through the REST API.
At a minimum, you must specify the required properties for the pricing model.
<em>You can optionally specify any other writable properties.</em></p>
<h4 id="required-parameters">Required parameters</h4>
<blockquote>
<p><code>name</code> : the name you want to give to the pricing model</p>
</blockquote>
<blockquote>
<p><code>formulaType</code> : The mathematical formula you want to be applied to calculate the final price :</p>
<ul>
<li><strong><em>constant</em></strong> : the service must be billed on a 'fixed price' (a) basis.
<em>Mathematical function : y = a</em></li>
</ul>
</blockquote>
<blockquote>
<ul>
<li><strong><em>homogeneous</em></strong> : the service must be billed from a 'baseline price' (x) multiplied by a defined factor (a) .
<em>Mathematical function : y = a*x</em></li>
</ul>
</blockquote>
<blockquote>
<ul>
<li><strong><em>linear</em></strong>  : the service must be billed from a 'baseline price' (x) multiplied by a defined factor (a) to which a fixed value, an 'increase' (b) is added .
<em>Mathematical function : y = a*x + b</em></li>
</ul>
</blockquote>
<blockquote>
<p><code>pricingFormulaInput</code> refers to the 3 types of parameters required according to the formulaType selected.</p>
</blockquote>
<table>
<thead>
<tr>
<th><strong>pricingFormulaInput</strong></th>
<th style="text-align: center;">formulaType = &quot;constant&quot;</th>
<th style="text-align: center;">formulaType = &quot;homogeneous&quot;</th>
<th style="text-align: center;">formulaType = &quot;linear&quot;</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>price</strong></td>
<td style="text-align: center;"><font color='red'> <strong>Required</strong> </font></td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">-</td>
</tr>
<tr>
<td><strong>factor</strong></td>
<td style="text-align: center;">-</td>
<td style="text-align: center;"><font color='red'> <strong>Required</strong> </font></td>
<td style="text-align: center;"><font color='red'> <strong>Required</strong> </font></td>
</tr>
<tr>
<td><strong>increase</strong></td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;"><font color='red'> <strong>Required</strong> </font></td>
</tr>
</tbody>
</table>
<h4 id="optional-parameters">Optional parameters</h4>
<blockquote>
<p><code>externalId</code> : you can set up an externalId which could be your pricing model identifier in your internal systems.</p>
</blockquote>
<h3 id="get-a-pricingmodel">Get a PricingModel</h3>
<hr />
<p>This endpoint enables to retrieve a given pricing model by its identifier.</p>
<h4 id="required-parameter">Required parameter</h4>
<blockquote>
<p><code>pricingModelId</code> : pricing model identifier in Be:Mo's database.</p>
</blockquote>
<h3 id="get-pricingmodel-given-parameters">Get PricingModel given parameters</h3>
<hr />
<p>This endpoint enables to retrieve a list of the pricing models you have created according to optional search criterias.</p>
<h4 id="query-parameters">Query parameters</h4>
<blockquote>
<p><code>externalId</code></p>
</blockquote>
<blockquote>
<p><code>formulaType</code> : <strong><em>constant</em></strong>, <strong><em>homogeneous</em></strong> and <strong><em>linear</em></strong> are the only allowed values.</p>
</blockquote>
<blockquote>
<p><code>limit</code></p>
</blockquote>
<blockquote>
<p><code>offset</code></p>
</blockquote>
<h3 id="modify-a-pricingmodel">Modify a PricingModel</h3>
<hr />
<p>This endpoint enables to update a restricted number of the parameters previously entered.</p>
<h4 id="required-parameter-1">Required parameter</h4>
<blockquote>
<p><code>pricingModelId</code> : pricing model identifier in Be:Mo's database.</p>
</blockquote>
<h4 id="re-writable-parameters">Re-writable parameters</h4>
<blockquote>
<p><code>name</code> : the name you want to give to the pricing model</p>
</blockquote>
<blockquote>
<p><code>externalId</code></p>
</blockquote>
<h2 id="offers">Offers</h2>
<p>The <strong>Offers domain</strong> lays down the condition of application (service type concerned, pricing model applicable, validity dates).</p>
<p>The Offers domain supports all the endpoints needed to manage an offer lifecycle (Create, Read and Update)</p>
<p><font color='red'> Limitation : an offer cannot be deleted </font></p>
<table>
<thead>
<tr>
<th><strong>Operation</strong></th>
<th style="text-align: center;"><strong>HTTP Method</strong></th>
<th><strong>Endpoint name</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Create</td>
<td style="text-align: center;"><font color='green'><strong>POST</strong> </font></td>
<td>Create an offer</td>
</tr>
<tr>
<td>Read</td>
<td style="text-align: center;"><font color='deepskyblue'><strong>GET</strong> </font></td>
<td>Get an offer</td>
</tr>
<tr>
<td>Read</td>
<td style="text-align: center;"><font color='deepskyblue'><strong>GET</strong> </font></td>
<td>Get offers given parameters</td>
</tr>
<tr>
<td>Update</td>
<td style="text-align: center;"><font color='orange'><strong>PATCH</strong> </font></td>
<td>Modify an offer</td>
</tr>
</tbody>
</table>
<h3 id="create-an-offer">Create an offer</h3>
<hr />
<p>This reference describes how to create a new offer through the REST API.
At a minimum, you must specify the required properties for the offer.
<em>You can optionally specify any other writable properties.</em></p>
<h4 id="required-parameters-1">Required parameters</h4>
<blockquote>
<p><code>name</code> : the name you want to give to the offer.</p>
</blockquote>
<blockquote>
<p><code>serviceType</code> : Single choice between :</p>
<ul>
<li><strong><em>RFID card</em></strong>,</li>
<li><strong><em>charging</em></strong>,</li>
<li><strong><em>fueling</em></strong>, <font color='red'> (coming soon) </font></li>
<li><strong><em>parking</em></strong>  <font color='red'> (coming soon) </font>,</li>
<li><strong><em>washing</em></strong> <font color='red'> (coming soon) </font></li>
</ul>
</blockquote>
<blockquote>
<p><code>pricingModelId</code> : Identifier of the pricing model you want to link to your offer.</p>
</blockquote>
<blockquote>
<p><code>startDate</code> : validity start date</p>
</blockquote>
<h4 id="optional-parameters-1">Optional parameters</h4>
<blockquote>
<p><code>externalId</code> :  you can set up an externalId which could be your offer identifier in your internal systems.</p>
</blockquote>
<blockquote>
<p><code>validUntil</code> : forecasted validity end date</p>
</blockquote>
<h3 id="get-an-offer">Get an offer</h3>
<hr />
<p>This endpoint enables to retrieve a given offer by entering its identifier.</p>
<h4 id="required-parameter-2">Required parameter</h4>
<blockquote>
<p><code>offerId</code> : offer identifier in Be:Mo's database.</p>
</blockquote>
<h3 id="get-offers-given-parameters">Get offers given parameters</h3>
<hr />
<p>This endpoint enables to retrieve the list of offers you have created in accordance with optional search criterias entered.</p>
<h4 id="query-parameters-1">Query parameters</h4>
<blockquote>
<p><code>externalId</code></p>
</blockquote>
<blockquote>
<p><code>serviceType</code> : <strong>charging</strong>, <strong><em>fueling</em></strong>, <strong><em>rfidCard</em></strong>, <strong><em>parking</em></strong> and <strong><em>washing</em></strong> are the only allowed values.</p>
</blockquote>
<blockquote>
<p><code>startDate</code> : validity start date</p>
</blockquote>
<blockquote>
<p><code>validUntil</code> : forecasted validity end date</p>
</blockquote>
<blockquote>
<p><code>limit</code></p>
</blockquote>
<blockquote>
<p><code>offset</code></p>
</blockquote>
<h3 id="modify-an-offer">Modify an offer</h3>
<hr />
<p>This endpoint enables to update a restricted number of the parameters previously entered.</p>
<h4 id="required-parameter-3">Required parameter</h4>
<blockquote>
<p><code>offerId</code> : offer identifier in Be:Mo's database.</p>
</blockquote>
<h4 id="re-writable-parameters-1">Re-writable parameters</h4>
<blockquote>
<p><code>name</code></p>
</blockquote>
<blockquote>
<p><code>externalId</code></p>
</blockquote>
<h2 id="use-cases">Use Cases</h2>
<hr />
<p>To set up a price framework, I have to :</p>
<ol>
<li>Create a pricing Model</li>
<li>Create an offer related to the previously created pricing Model</li>
</ol>
<p>The following uses cases can happen :</p>
<ul>
<li><strong>How to set up an offer billed on a 'fixed price' basis</strong>
<font color='red'> Limitation : Both <strong>RFID cards</strong> and <strong>Charging</strong> are eligible for this use case.  </font></li>
</ul>
<p><em>Example : I want all my customers be fined an amount of 10€ for a RFID card order</em></p>
<p><img src="/Neocra.Markgen/Neocra.Markgen/hello-wiki/.attachments/image-10c0aaf6-5dcd-4975-8bcd-f6e1e8142257.png" alt="image.png" /></p>
<p><em><strong>PS :</strong> You can set up a 'free offer' price framework in this way (in pricingModel, price = 0)</em></p>
<hr />
<ul>
<li><strong>How to set up an offer billed on a 'homogeneous' basis</strong>
<font color='red'> Limitation : <strong>Charging</strong> is the unique service eligible for this use case.  </font></li>
</ul>
<p><em>Example : I want to set up a 10% margin applied on CPO price as basis for my charging offer.
For a charging session billed 10€ by the CPO, I want my customer be re-invoiced 10% more (<strong>11€</strong>).</em></p>
<p><img src="/Neocra.Markgen/Neocra.Markgen/hello-wiki/.attachments/image-ff1c9ee7-a5e7-4601-8022-4de6023daba6.png" alt="image.png" /></p>
<hr />
<ul>
<li><strong>How to set up an offer billed on a 'linear' basis</strong>
<font color='red'> Limitation : <strong>Charging</strong> is the unique service eligible for this use case. </font></li>
</ul>
<p><em>Example : I want to set up a 2% margin applied on CPO price + a fixed fee of 0.50e as basis for my Premium charging offer.
For a charging session billed <strong>10€</strong> by the CPO, I want my customer be re-invoiced 10*(1+0.02)+0.5 = <strong>10,7€</strong>.</em></p>
<p><img src="/Neocra.Markgen/Neocra.Markgen/hello-wiki/.attachments/image-895a476e-a8b8-46c4-9e49-1a3823a40a0c.png" alt="image.png" /></p>

    </article>
</div>
</body>
</html>
